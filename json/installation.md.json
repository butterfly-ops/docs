{
    "file_name": "installation.md",
    "sections": [
        {
            "header": "Installation",
            "content": "\n"
        },
        {
            "header": "Server Requirements",
            "content": "\n<p>Butterfly has minimum requirements on server side. </p>\n<p><strong>Required:</strong></p>\n<ul>\n<li>PHP &gt;= 7.1</li>\n<li>MySQL 5.7+</li>\n<li>JSON PHP Extension</li>\n<li>Mbstring PHP Extension</li>\n<li>OpenSSL PHP Extension</li>\n<li>PDO PHP Extension </li>\n<li>GD2 PHP Extension</li>\n<li>Exif PHP Extension</li>\n<li>Zip PHP Extension</li>\n</ul>\n<p><strong>Recommended:</strong></p>\n<ul>\n<li>Imagick  </li>\n</ul>\n<p><em>Optional:</em></p>\n<ul>\n<li>XML PHP Extension</li>\n<li>Soap PHP Extension</li>\n</ul>\n<blockquote>\n<p>For Ubuntu 18.04, you can use the following command to install extensions</p>\n</blockquote>\n<p><code>bash\napt-get install php7.4 php7.4-json php7.4-xml php7.4-exif php7.4-gd2</code></p>\n"
        },
        {
            "header": "Installing Butterfly",
            "content": "\n<p>Butterfly uses <a href=\"https://getcomposer.org/\">Composer</a> to manage dependencies and packages. You can easily install packages using the following command:</p>\n<p><code>bash\n/usr/local/bin/composer create-project butterfly/butterfly my_new_project --repository-url=https://repo.rglabs.co/</code></p>\n<blockquote>\n<p>[!NOTE]\nYou we need access token to access repo.rglabs.co and git repository.</p>\n</blockquote>\n<h3>Running installation</h3>\n<p>After changing to butterfly directory, you need to run installation script:</p>\n<p><code>bash\nbin/butterfly install</code></p>\n<blockquote>\n<p>[!WARNING]\nYou should create MySQL Database, Grant permission to user before running installation script. \nEven for root users, you need to create database.</p>\n<p>[!TIP]\n<strong><em>Recommended Database Encoding:</em></strong> utf8mb4, Collation: utf8mb4_general_ci. You can choose the collation suits to your language.</p>\n</blockquote>\n<p>You will be prompt to enter environment variables. You will need the following information:</p>\n<p>Parameter | Description\n--- | ---\nDomain | This is the domain which butterfly will run on without schema. Example: butterfly.rg \nDatabase Server Host | Hostname of the database server\nDatabase Server Username | Username for the database server\nDatabase Server Password | Password for the database server\nDatabase Name | Database name that is created.</p>\n<p>!&gt; <strong>Caution:</strong> In order to finish installation, there should be no tables in the database.</p>\n<ul>\n<li>Admin E-mail</li>\n<li>Admin Username</li>\n<li>Password (Auto generated if empty)</li>\n</ul>\n<p>After the installation, you will see the admin information in shell.</p>\n<p>```bash\nButterfly is successfully installed ! You can use the following information to access your panel:</p>\n<p>https://butterfly.test/admin</p>\n<p>Username: info@thebutterfly.io\nPassword: aji1854843!@Xsz\n```</p>\n<p>If you already created the tables, you can skip the database installation <code>--skip-database</code> option. Following command will check for the needed folders, will create a user.</p>\n<p><code>bash\nbin/butterfly install --skip-database 1</code></p>\n<h3>Folder Creation</h3>\n<p>Butterfly needs the following folders to be owned by web server user. (Or chmod 777).</p>\n<blockquote>\n<p>[!NOTE]\ninstall command automatically calls this command after checking database. You don't need to run this command if you\nrun install command. </p>\n</blockquote>\n<p><code>- var\n    |- cache\n    |- log\n    |- tmp\n- static</code></p>\n<p>If you don't have the folders, you can run the following command to check or create folders:</p>\n<p><code>bash\nbin/butterfly folders:create</code></p>\n<p>If script cannot create or chmod folders, it will print the commands that should be run. You can also run the \nfollowing commands if you need in the root directory of the project.</p>\n<p><code>bash\ncd $PROJECT_DIRECTORY; ## Please change directory to project root.\nmkdir static var var/tmp var/cache var/log;\nchmod -R 777 var static;</code></p>\n<h3>Configurations</h3>\n<p>Config files are located in <code>app/Config</code> folder. When there are more than one environment, it is possible to override configuration.</p>\n<h4>Environment Based Override</h4>\n<p>Sometimes, you may have multiple domains in the same server / folder with same configuration. For this case, you can have a folder for that environment. Butterfly prioritize <code>app/Config/ENVIRONMENT</code> for configurations. Environment is set from your Web Server. For example, if the environment is set to <code>production</code>, it will first check \n<code>app/Config/production/</code> folder for configurations. Files in the root folder will be appended to configurations.</p>\n<blockquote>\n<p>[!TIP]\nYou can add generic configs which are valid for all environments to <code>app/Config</code> folder, then you can only put environment specific configurations \nlike database to domain folders.</p>\n</blockquote>\n<p>Apache Example for setting Environment:\n<code>apacheconfig\nSetEnv ENVIRONMENT production</code></p>\n<p>Nginx Example for setting Environment:\n<code>nginx\nfastcgi_param  ENVIRONMENT \"production\";</code></p>\n<h4>Domain Based Override</h4>\n<p><code>Butterfly</code> prioritize <code>app/Config/DOMAIN_NAME</code> for configurations. For example, if the domain name is thebutterfly.io, it will first check \n<code>app/Config/thebutterfly.io/</code> folder for configurations. Files in the root folder will be appended to configurations.</p>\n<blockquote>\n<p>[!TIP]\nYou can add generic configs which are valid for all environments to <code>app/Config</code> folder, then you can only put environment specific configurations \nlike database to domain folders.</p>\n</blockquote>\n<h3>Admin User Creation</h3>\n<p>You may need to create new users when you initiated an empty project or you need another account. You can run the \nfollowing command to create a new user:</p>\n<p><code>bash\nbin/butterfly admin:user:create</code></p>\n<p>The command will prompt for e-mail, password and name of the user. Name is optional.</p>"
        }
    ]
}